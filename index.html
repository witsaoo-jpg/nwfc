<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nursing Staff Calculator</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Sarabun:wght@300;400;600;700&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Sarabun', sans-serif; background-color: #f3f4f6; }
        /* CSS Class ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÄ‡∏™‡πâ‡∏ô‡πÄ‡∏®‡∏©‡∏™‡πà‡∏ß‡∏ô */
        .fraction { display: inline-block; text-align: center; vertical-align: middle; margin: 0 0.2em; }
        .fraction > span { display: block; padding-top: 0.1em; }
        .fraction span.numerator { border-bottom: 2px solid white; }
        .fraction span.denominator { border-top: 2px solid transparent; }
    </style>
</head>
<body class="p-6">

    <div class="max-w-2xl mx-auto bg-white rounded-xl shadow-lg overflow-hidden">
        
        <!-- Header -->
        <div class="bg-blue-600 p-6 text-white">
            <h1 class="text-2xl font-bold">üè• ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏≠‡∏±‡∏ï‡∏£‡∏≤‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏û‡∏¢‡∏≤‡∏ö‡∏≤‡∏•</h1>
            <p class="text-blue-100 text-sm">Nursing Workforce Calculation System</p>
        </div>

        <div class="p-6 space-y-6">
            
            <!-- Section 1: Inputs -->
            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-1">‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏´‡∏≠‡∏ú‡∏π‡πâ‡∏õ‡πà‡∏ß‡∏¢ (Ward Type)</label>
                    <select id="wardType" onchange="updatePreset()" class="w-full p-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500">
                        <option value="custom">-- ‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡πÄ‡∏≠‡∏á --</option>
                        <option value="ward_gen">‡∏´‡∏≠‡∏ú‡∏π‡πâ‡∏õ‡πà‡∏ß‡∏¢‡∏™‡∏≤‡∏°‡∏±‡∏ç (General Ward)</option>
                        <option value="icu">‡∏´‡∏≠‡∏ú‡∏π‡πâ‡∏õ‡πà‡∏ß‡∏¢‡∏ß‡∏¥‡∏Å‡∏§‡∏ï (ICU)</option>
                        <option value="opd">‡∏ú‡∏π‡πâ‡∏õ‡πà‡∏ß‡∏¢‡∏ô‡∏≠‡∏Å (OPD)</option>
                    </select>
                </div>
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-1">‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏ú‡∏π‡πâ‡∏õ‡πà‡∏ß‡∏¢‡πÄ‡∏â‡∏•‡∏µ‡πà‡∏¢ (ADC)</label>
                    <input type="number" id="adc" value="30" oninput="calculate()" class="w-full p-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500">
                </div>
            </div>

            <!-- Section 2: Parameters -->
            <div class="bg-gray-50 p-4 rounded-lg border border-gray-200">
                <h3 class="text-sm font-semibold text-gray-500 mb-3 uppercase tracking-wider">‡∏ï‡∏±‡∏ß‡πÅ‡∏õ‡∏£‡∏Å‡∏≤‡∏£‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì (Parameters)</h3>
                <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
                    <div>
                        <label class="block text-xs text-gray-500">NHPPD (‡∏ä‡∏°.)</label>
                        <input type="number" step="0.1" id="nhppd" value="3.5" oninput="calculate()" class="w-full p-1 border rounded">
                    </div>
                    <div>
                        <label class="block text-xs text-gray-500">‡∏Ñ‡πà‡∏≤‡∏Ñ‡∏á‡∏ó‡∏µ‡πà (Constant)</label>
                        <input type="number" step="0.1" id="constant" value="1.4" oninput="calculate()" class="w-full p-1 border rounded">
                    </div>
                    <div>
                        <label class="block text-xs text-gray-500">Benefit FTE</label>
                        <input type="number" step="0.01" id="benefit" value="1.14" oninput="calculate()" class="w-full p-1 border rounded">
                    </div>
                    <div>
                        <label class="block text-xs text-gray-500">‡∏ä‡∏°.‡∏ó‡∏≥‡∏á‡∏≤‡∏ô/‡∏ß‡∏±‡∏ô</label>
                        <input type="number" id="workHours" value="7" oninput="calculate()" class="w-full p-1 border rounded">
                    </div>
                </div>
                <p class="text-xs text-gray-400 mt-2">*‡∏™‡∏π‡∏ï‡∏£: (ADC x NHPPD x Constant x Benefit) / Work Hours</p>
            </div>

            <hr>

            <!-- Section 3: FTE Result -->
            <div class="text-center">
                <p class="text-gray-500 mb-1">‡∏†‡∏≤‡∏£‡∏∞‡∏á‡∏≤‡∏ô FTE (FTE Requirements)</p>
                <h2 class="text-5xl font-bold text-gray-700" id="totalStaff">0.00</h2>
                <p class="text-gray-500 mt-1">FTE</p>
            </div>

            <!-- ‚≠ê NEW SECTION: ‡∏™‡∏π‡∏ï‡∏£‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏Ñ‡∏ô‡∏ï‡∏≤‡∏°‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û ‚≠ê -->
            <div class="bg-gray-800 text-white rounded-xl p-6 shadow-inner relative overflow-hidden">
                <!-- Decoration -->
                <div class="absolute top-0 right-0 -mt-2 -mr-2 w-24 h-24 bg-white opacity-5 rounded-full blur-xl"></div>
                
                <h3 class="text-center text-yellow-400 text-sm font-semibold mb-4 uppercase tracking-widest">
                    ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏Ñ‡∏ô (Headcount)
                </h3>

                <!-- The Formula Display -->
                <div class="flex flex-col items-center justify-center mb-4">
                    <div class="text-xl md:text-2xl font-serif italic flex items-center">
                        <span class="mr-3">‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏Ñ‡∏ô = </span>
                        <div class="fraction">
                            <span class="numerator px-2">FTE √ó 2,368</span>
                            <span class="denominator">2,080</span>
                        </div>
                    </div>
                </div>

                <!-- The Result -->
                <div class="text-center mt-2">
                    <div class="inline-block bg-gray-700 px-6 py-2 rounded-lg border border-gray-600">
                        <span class="text-4xl font-bold text-green-400" id="headCountResult">0.00</span>
                        <span class="text-lg text-gray-300 ml-2">‡∏Ñ‡∏ô</span>
                    </div>
                    <p class="text-xs text-gray-400 mt-3" id="formulaDetail">
                        ( 0.00 x 2,368 ) / 2,080
                    </p>
                </div>
            </div>
            <!-- ‚≠ê END NEW SECTION ‚≠ê -->

            <!-- Section 4: Shift Plan -->
            <div class="bg-blue-50 p-4 rounded-lg">
                <h3 class="text-blue-800 font-semibold mb-2">‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏î‡πÄ‡∏ß‡∏£ (Daily Shift Plan)</h3>
                <div class="grid grid-cols-3 gap-2 text-center">
                    <div class="bg-white p-2 rounded shadow-sm">
                        <p class="text-xs text-gray-500">‡πÄ‡∏ß‡∏£‡πÄ‡∏ä‡πâ‡∏≤ (60%)</p>
                        <p class="text-xl font-bold text-blue-600" id="shiftMorning">0</p>
                    </div>
                    <div class="bg-white p-2 rounded shadow-sm">
                        <p class="text-xs text-gray-500">‡πÄ‡∏ß‡∏£‡∏ö‡πà‡∏≤‡∏¢ (25%)</p>
                        <p class="text-xl font-bold text-blue-600" id="shiftAfternoon">0</p>
                    </div>
                    <div class="bg-white p-2 rounded shadow-sm">
                        <p class="text-xs text-gray-500">‡πÄ‡∏ß‡∏£‡∏î‡∏∂‡∏Å (15%)</p>
                        <p class="text-xl font-bold text-blue-600" id="shiftNight">0</p>
                    </div>
                </div>
                <p class="text-xs text-blue-400 mt-2 text-center">*‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏: ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏à‡∏≤‡∏Å‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏Ñ‡∏ô‡∏ó‡∏µ‡πà‡∏Ç‡∏∂‡πâ‡∏ô‡∏õ‡∏è‡∏¥‡∏ö‡∏±‡∏ï‡∏¥‡∏á‡∏≤‡∏ô‡∏à‡∏£‡∏¥‡∏á‡∏ï‡πà‡∏≠‡∏ß‡∏±‡∏ô (Daily Working Staff)</p>
            </div>

        </div>
    </div>

    <!-- Footer with Visitor Counter -->
    <div class="text-center mt-6 mb-8 text-gray-500 space-y-2">
        
        <!-- VISITOR COUNTER SECTION -->
        <div class="inline-flex items-center bg-white px-3 py-1 rounded-full shadow-sm border border-gray-200 text-xs">
            <svg class="w-4 h-4 mr-2 text-blue-500" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"></path></svg>
            <span class="mr-1">‡∏ú‡∏π‡πâ‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô:</span>
            
            <!-- ‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ß‡∏≤‡∏á‡πÇ‡∏Ñ‡πâ‡∏î‡∏ô‡∏±‡∏ö‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏Ñ‡∏ô‡∏à‡∏£‡∏¥‡∏á (Real Counter Widget Area) -->
            <div id="visitor-counter-widget" class="font-bold text-blue-600">
                <!-- 
                    üî¥ ‡∏Ñ‡∏≥‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö GitHub Pages:
                    1. ‡πÑ‡∏õ‡∏ó‡∏µ‡πà‡πÄ‡∏ß‡πá‡∏ö‡πÅ‡∏à‡∏Å Counter ‡∏ü‡∏£‡∏µ ‡πÄ‡∏ä‡πà‡∏ô www.hitwebcounter.com ‡∏´‡∏£‡∏∑‡∏≠ www.free-counters.org
                    2. ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö‡∏ó‡∏µ‡πà‡∏ä‡∏≠‡∏ö ‡πÅ‡∏•‡πâ‡∏ß Copy HTML Code ‡∏°‡∏≤
                    3. ‡∏•‡∏ö‡πÇ‡∏Ñ‡πâ‡∏î <span id="demo-counter">...</span> ‡∏î‡πâ‡∏≤‡∏ô‡∏•‡πà‡∏≤‡∏á‡∏ô‡∏µ‡πâ‡∏≠‡∏≠‡∏Å
                    4. ‡∏ß‡∏≤‡∏á‡πÇ‡∏Ñ‡πâ‡∏î‡∏ó‡∏µ‡πà Copy ‡∏°‡∏≤ ‡∏•‡∏á‡πÑ‡∏õ‡πÅ‡∏ó‡∏ô‡∏ó‡∏µ‡πà‡∏ï‡∏£‡∏á‡∏ô‡∏µ‡πâ‡πÄ‡∏•‡∏¢
                -->
                <span id="demo-counter">0</span> <!-- ‡∏ï‡∏±‡∏ß demo (‡∏ô‡∏±‡∏ö‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏ô‡∏µ‡πâ) -->
            </div>
        </div>

        <div class="text-sm font-medium opacity-75">
            Copyright &copy; by witsao oya (witsaoo@gmail.com)
        </div>
    </div>

    <script>
        // --- ‡∏™‡πà‡∏ß‡∏ô‡∏Ç‡∏≠‡∏á Visitor Counter (Demo Mode) ---
        // ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏ô‡∏µ‡πâ‡πÉ‡∏ä‡πâ‡∏ô‡∏±‡∏ö‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏¥‡∏î‡∏´‡∏ô‡πâ‡∏≤‡πÄ‡∏ß‡πá‡∏ö‡πÅ‡∏ö‡∏ö‡∏à‡∏≥‡∏•‡∏≠‡∏á (‡πÄ‡∏Å‡πá‡∏ö‡πÉ‡∏ô LocalStorage ‡∏Ç‡∏≠‡∏á‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ)
        function initDemoCounter() {
            // ‡πÄ‡∏ä‡πá‡∏Ñ‡∏ß‡πà‡∏≤‡∏°‡∏µ‡∏Ñ‡πà‡∏≤‡πÄ‡∏Å‡πà‡∏≤‡πÑ‡∏´‡∏°
            let count = localStorage.getItem('page_views') || 0;
            count = parseInt(count) + 1; // ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ñ‡πà‡∏≤‡∏ó‡∏µ‡∏•‡∏∞ 1
            
            // ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Å‡∏•‡∏±‡∏ö‡∏•‡∏á‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á
            localStorage.setItem('page_views', count);
            
            // ‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏•
            const counterElement = document.getElementById('demo-counter');
            if (counterElement) {
                counterElement.innerText = count.toLocaleString();
            }
        }
        
        // ‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏ô‡∏±‡∏ö‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÄ‡∏õ‡∏¥‡∏î‡πÄ‡∏ß‡πá‡∏ö
        initDemoCounter();
        // -------------------------------------------

        // ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ NHPPD ‡∏ï‡∏≤‡∏°‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏´‡∏≠‡∏ú‡∏π‡πâ‡∏õ‡πà‡∏ß‡∏¢
        function updatePreset() {
            const type = document.getElementById('wardType').value;
            const nhppdInput = document.getElementById('nhppd');
            
            if (type === 'ward_gen') nhppdInput.value = 3.5;
            else if (type === 'icu') nhppdInput.value = 12.0;
            else if (type === 'opd') nhppdInput.value = 0.5;
            
            calculate(); 
        }

        // ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏´‡∏•‡∏±‡∏Å
        function calculate() {
            // 1. ‡∏î‡∏∂‡∏á‡∏Ñ‡πà‡∏≤‡∏à‡∏≤‡∏Å Input
            let adc = parseFloat(document.getElementById('adc').value) || 0;
            let nhppd = parseFloat(document.getElementById('nhppd').value) || 0;
            let constant = parseFloat(document.getElementById('constant').value) || 0;
            let benefit = parseFloat(document.getElementById('benefit').value) || 0;
            let hours = parseFloat(document.getElementById('workHours').value) || 1;

            // 2. ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì FTE
            let totalFTE = (adc * nhppd * constant * benefit) / hours;

            // 3. ‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏• FTE
            document.getElementById('totalStaff').innerText = totalFTE.toFixed(2);

            // 4. ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏Ñ‡∏ô (Headcount) ‡∏ï‡∏≤‡∏°‡∏™‡∏π‡∏ï‡∏£‡πÉ‡∏ô‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û
            // ‡∏™‡∏π‡∏ï‡∏£: (FTE * 2368) / 2080
            let headCount = (totalFTE * 2368) / 2080;
            
            // ‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏•‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏Ñ‡∏ô
            document.getElementById('headCountResult').innerText = headCount.toFixed(2);
            // ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡πÅ‡∏™‡∏î‡∏á‡∏ß‡∏¥‡∏ò‡∏µ‡∏ó‡∏≥‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡πá‡∏Å‡πÜ
            document.getElementById('formulaDetail').innerText = 
                `( ${totalFTE.toFixed(2)} x 2,368 ) / 2,080`;


            // 5. ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏î‡πÄ‡∏ß‡∏£ (Daily Staffing)
            // ‡πÉ‡∏ä‡πâ logic ‡πÄ‡∏î‡∏¥‡∏°: FTE / Benefit = Daily working staff
            let dailyStaff = totalFTE / benefit; 
            
            document.getElementById('shiftMorning').innerText = Math.round(dailyStaff * 0.6);
            document.getElementById('shiftAfternoon').innerText = Math.round(dailyStaff * 0.25);
            document.getElementById('shiftNight').innerText = Math.round(dailyStaff * 0.15);
        }

        // ‡∏£‡∏±‡∏ô‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÅ‡∏£‡∏Å‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÄ‡∏õ‡∏¥‡∏î‡∏´‡∏ô‡πâ‡∏≤‡πÄ‡∏ß‡πá‡∏ö
        calculate();
    </script>

</body>
</html>
